{% extends 'base.html' %}
{% load string_tags %}

{% block content %}
<h1>{{ dish.title }}</h1>

    <div>
        {% for meal in dish.meals.all %}
        <span class="label">{{ meal }}</span>
    {% endfor %}

    </div>

<div>{{ dish.description|markdownify }}</div>

    <ul>
        {% for ingredient in dish.ingredients.all %}
        <li>{{ ingredient }} - {{ ingredient.amount }} {{ ingredient.units }}</li>
    {% endfor %}
    </ul>

<div>{{ dish.preparation|markdownify }}</div>

    <table>
    {% for nutrient, amount in nutrients %}
        <tr>
            <td>{{ nutrient }}</td>
            <td>{{ nutrient.default_unit_title }}</td>
            <td>{{ amount|floatformat:-2 }}</td>
            <td>{{ nutrient.dri }}</td>
        </tr>
    {% endfor %}
    </table>

{% endblock %}